{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Close Cycle Revenue Compression Config",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "process_column": { "type": ["string", "null"] },
    "start_column": { "type": ["string", "null"] },
    "end_column": { "type": ["string", "null"] },
    "duration_column": { "type": ["string", "null"] },
    "queue_column": { "type": ["string", "null"] },
    "eligible_column": { "type": ["string", "null"] },
    "host_column": { "type": ["string", "null"] },
    "revenue_selector_strategy": { "type": "string", "enum": ["auto", "value_hints", "composite"] },
    "revenue_process_names": { "type": ["array", "string", "null"] },
    "revenue_process_patterns": { "type": ["array", "string", "null"] },
    "selector_min_coverage": { "type": "number", "minimum": 0, "maximum": 1 },
    "selector_min_cardinality": { "type": "integer", "minimum": 1 },
    "selector_max_cardinality": { "type": "integer", "minimum": 1 },
    "selector_top_columns": { "type": "integer", "minimum": 1 },
    "selector_max_composite": { "type": "integer", "minimum": 1 },
    "selector_min_close_rows": { "type": "integer", "minimum": 1 },
    "selector_min_close_share": { "type": "number", "minimum": 0, "maximum": 1 },
    "selector_lift_threshold": { "type": "number", "minimum": 0 },
    "selector_late_threshold": { "type": "number", "minimum": 0, "maximum": 1 },
    "selector_min_late_fraction": { "type": "number", "minimum": 0, "maximum": 1 },
    "selector_top_keys": { "type": "integer", "minimum": 1 },
    "close_window_mode": { "type": "string", "enum": ["infer", "override", "infer_or_default"] },
    "close_cycle_start_day": { "type": "integer", "minimum": 1, "maximum": 31 },
    "close_cycle_end_day": { "type": "integer", "minimum": 1, "maximum": 31 },
    "min_close_days": { "type": "integer", "minimum": 1 },
    "max_close_days": { "type": "integer", "minimum": 1 },
    "lookahead_days": { "type": "integer", "minimum": 0 },
    "min_close_confidence": { "type": "number", "minimum": 0, "maximum": 1 },
    "min_close_data_ratio": { "type": "number", "minimum": 0, "maximum": 1 },
    "target_days": { "type": "number", "minimum": 0 },
    "max_scale": { "type": "number", "minimum": 1 },
    "min_month_rows": { "type": "integer", "minimum": 1 },
    "max_months_output": { "type": "integer", "minimum": 1 },
    "max_wait_days": { "type": "number", "minimum": 0 }
  }
}
